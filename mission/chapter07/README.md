<https://github.com/seoki180/UMC_Node_Practice>

| **í•­ëª©** | **gzip** | **brotli** |
| --- | --- | --- |
| **ì†Œê°œ** | ì˜¤ë˜ëœ ì••ì¶• í‘œì¤€, ê±°ì˜ ëª¨ë“  ë¸Œë¼ìš°ì €ì™€ ì„œë²„ì—ì„œ ì§€ì› | Googleì´ ê°œë°œí•œ ì‹ í˜• ì••ì¶• ë°©ì‹, ë” ë†’ì€ ì••ì¶•ë¥  |
| **ì••ì¶•ë¥ ** | ì¤‘ê°„ (í…ìŠ¤íŠ¸ ê¸°ë°˜ 60~70%) | ë†’ìŒ (í…ìŠ¤íŠ¸ ê¸°ë°˜ 70~90%) |
| **ì†ë„** | ë¹ ë¦„ | ëŠë¦¬ì§€ë§Œ ì••ì¶• íš¨ìœ¨ì´ ì¢‹ìŒ |
| **ì§€ì› ë²”ìœ„** | ê±°ì˜ ëª¨ë“  HTTP í´ë¼ì´ì–¸íŠ¸ | ìµœì‹  ë¸Œë¼ìš°ì €ë§Œ ì™„ë²½ ì§€ì› (IE ì œì™¸) |
| **ê¶Œì¥ ì‚¬ìš©** | ì¼ë°˜ í…ìŠ¤íŠ¸, HTML, JSON ë“± | ëŒ€ìš©ëŸ‰ ì •ì  íŒŒì¼ (CSS, JS ë“±) |
| **Content-Encoding** | gzip | br |

```jsx
import compression from "compression";

..
app.use(compression({ threshold: 512 }));

..

app.get("/test", (req, res) => {
  const largeData = "ğŸ“¦".repeat(2000); // 2000ë°”ì´íŠ¸ ì´ìƒ í…ìŠ¤íŠ¸
  res.send(largeData);
});
```

/test endpointë¥¼ ì‚¬ìš©í•´ 2000ë°”ì´íŠ¸ ì´ìƒì˜  í…ìŠ¤íŠ¸ë¥¼ ë³´ë‚´ëŠ” ìƒí™©ì„ êµ¬í˜„í–ˆë‹¤.

```jsx
curl -H "Accept-Encoding: gzip" http://localhost:3001/test --output out.gz
gunzip out.gz
cat out
```

í„°ë¯¸ë„ì—ì„œ ë‹¤ìŒê³¼ ê°™ì´ í…ŒìŠ¤íŠ¸ curlì„ ì „ì†¡í•˜ê³ , ë°›ì€ responseë¥¼ out.gzì— ì••ì¶•íŒŒì¼ë¡œ ì €ì¥í•˜ë„ë¡ í•œë‹¤. ì••ì¶•ì´ ì•ˆëœë‹¤ë©´ content-encodingì´ ì—†ë‹¤ëŠ” ëœ»ì¼í…Œë‹ˆ, ì••ì¶•ì´ ì„±ê³µí•œë‹¤ë©´ ì‘ë‹µë³¸ë¬¸ì´ ì••ì¶•ë˜ì–´ ì „ì†¡ë˜ì—ˆë‹¤ëŠ” ëœ»ì´ë‹¤.
